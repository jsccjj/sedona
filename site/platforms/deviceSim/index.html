



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="Online documentation for Sedona Framework(R)">
      
      
        <link rel="canonical" href="https://linsong.github.io/sedona/platforms/deviceSim/">
      
      
        <meta name="author" content="Sedona Community">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-4.6.3">
    
    
      
        <title>Device Simulator - Sedona Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.adb8469c.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#795548">
      
    
    
      <script src="../../assets/javascripts/modernizr.86422ebf.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="brown" data-md-color-accent="red">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#device-simulator" tabindex="0" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://linsong.github.io/sedona" title="Sedona Documentation" aria-label="Sedona Documentation" class="md-header-nav__button md-logo">
          
            <img alt="logo" src="../../favicon.ico" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              Sedona Documentation
            </span>
            <span class="md-header-nav__topic">
              
                Device Simulator
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" aria-label="search" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/linsong/sedona/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    linsong/sedona
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://linsong.github.io/sedona" title="Sedona Documentation" class="md-nav__button md-logo">
      
        <img alt="logo" src="../../favicon.ico" width="48" height="48">
      
    </a>
    Sedona Documentation
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/linsong/sedona/" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    linsong/sedona
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Index" class="md-nav__link">
      Index
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Getting Started
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Getting Started
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../quickstart/intro/" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../quickstart/setup/" title="Setup" class="md-nav__link">
      Setup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../quickstart/architecture/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../quickstart/tutorial/" title="Tutorial" class="md-nav__link">
      Tutorial
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Language
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Language
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../language/lang/" title="Language" class="md-nav__link">
      Language
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../language/primitives/" title="Primitives" class="md-nav__link">
      Primitives
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../language/expr/" title="Expressions" class="md-nav__link">
      Expressions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../language/stmt/" title="Statements" class="md-nav__link">
      Statements
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../language/classes/" title="Classes" class="md-nav__link">
      Classes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../language/fields/" title="Fields" class="md-nav__link">
      Fields
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../language/methods/" title="Methods" class="md-nav__link">
      Methods
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../language/components/" title="Components" class="md-nav__link">
      Components
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../language/reflection/" title="Reflection" class="md-nav__link">
      Reflection
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../language/arrays/" title="Arrays" class="md-nav__link">
      Arrays
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../language/memory/" title="Memory" class="md-nav__link">
      Memory
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../language/nativeMethods/" title="Native Methods" class="md-nav__link">
      Native Methods
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../language/logging/" title="Logging" class="md-nav__link">
      Logging
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Apps
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Apps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../apps/apps/" title="Application Model" class="md-nav__link">
      Application Model
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../apps/security/" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Deployment
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Deployment
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../deployment/kits/" title="Kits" class="md-nav__link">
      Kits
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../deployment/schema/" title="Schema" class="md-nav__link">
      Schema
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      Platforms
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Platforms
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../platDef/" title="Platform Definition" class="md-nav__link">
      Platform Definition
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../par/" title="Platform Archive" class="md-nav__link">
      Platform Archive
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../platTutorial/" title="Platform Tutorial" class="md-nav__link">
      Platform Tutorial
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Device Simulator
      </label>
    
    <a href="./" title="Device Simulator" class="md-nav__link md-nav__link--active">
      Device Simulator
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-steps" class="md-nav__link">
    Build Steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-platdef-file" class="md-nav__link">
    Create platDef file
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#platform-id" class="md-nav__link">
    Platform ID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simulator-platform-compile-attributes" class="md-nav__link">
    Simulator platform compile attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#native-kits" class="md-nav__link">
    Native kits
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#native-source-paths" class="md-nav__link">
    Native source paths
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#native-patches" class="md-nav__link">
    Native patches
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manifest-includes" class="md-nav__link">
    Manifest includes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stage-source-files" class="md-nav__link">
    Stage source files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-simulator-svm" class="md-nav__link">
    Build simulator SVM
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-scode-file" class="md-nav__link">
    Build scode file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-test-app" class="md-nav__link">
    Build test app
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#package-and-install" class="md-nav__link">
    Package and install
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-simulator" class="md-nav__link">
    Run Simulator
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../platCertified/" title="Certified Platforms" class="md-nav__link">
      Certified Platforms
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Development
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Development
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/sedonac/" title="Sedonac" class="md-nav__link">
      Sedonac
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/testing/" title="Testing" class="md-nav__link">
      Testing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/porting/" title="Porting" class="md-nav__link">
      Porting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../development/niagara/" title="Niagara" class="md-nav__link">
      Niagara
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Networking
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Networking
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../networking/networking/" title="Networking" class="md-nav__link">
      Networking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../networking/dasp/" title="DASP" class="md-nav__link">
      DASP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../networking/sox/" title="Sox" class="md-nav__link">
      Sox
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../networking/discover/" title="Device Discovery" class="md-nav__link">
      Device Discovery
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Appendix
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Appendix
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendix/license/" title="License" class="md-nav__link">
      License
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendix/conventions/" title="Coding Conventions" class="md-nav__link">
      Coding Conventions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendix/scodeFormat/" title="SCode Format" class="md-nav__link">
      SCode Format
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../appendix/grammar/" title="Grammar" class="md-nav__link">
      Grammar
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Releases
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Releases
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../releases/newFor12/" title="v1.2" class="md-nav__link">
      v1.2
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../api/api/" title="API" class="md-nav__link">
      API
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-steps" class="md-nav__link">
    Build Steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#create-platdef-file" class="md-nav__link">
    Create platDef file
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#platform-id" class="md-nav__link">
    Platform ID
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#simulator-platform-compile-attributes" class="md-nav__link">
    Simulator platform compile attributes
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#native-kits" class="md-nav__link">
    Native kits
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#native-source-paths" class="md-nav__link">
    Native source paths
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#native-patches" class="md-nav__link">
    Native patches
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#manifest-includes" class="md-nav__link">
    Manifest includes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stage-source-files" class="md-nav__link">
    Stage source files
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-simulator-svm" class="md-nav__link">
    Build simulator SVM
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-scode-file" class="md-nav__link">
    Build scode file
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#build-test-app" class="md-nav__link">
    Build test app
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#package-and-install" class="md-nav__link">
    Package and install
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#run-simulator" class="md-nav__link">
    Run Simulator
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/linsong/sedona/edit/master/docs/platforms/deviceSim.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <!--
[//]: # (Copyright &#169; 2013 Tridium, Inc
  Licensed under the Academic Free License version 3.0

  History:
    05 Mar 2013   Elizabeth McKenney   Creation
) -->

<p><a href="/"><img alt="Sedona" src="../../logo.png" /></a></p>
<h1 id="device-simulator">Device Simulator<a class="headerlink" href="#device-simulator" title="Permanent link">&para;</a></h1>
<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>A <em>Sedona Device Simulator</em> allows an app designed for a specific Sedona
platform to run on another platform. The Simulator consists of a
simulator Sedona VM plus a special scode file and platform manifest that
allow the app to run as if it were on the original device.</p>
<p>In a simulator Sedona VM, the native methods for the original platform
are replaced with functions compatible with the simulator platform. The
new functions may supply functionality equivalent to the originals, or
they may be stubs, depending on how the simulator SVM is built. The
degree to which a given Device Simulator will mimic the actual device is
largely a function of the effort level put into creating it.</p>
<ul>
<li><strong>Example</strong>: The native code for <code>DigitalIo.gpioGet()</code> in the SVM
    for a specific hardware platform reads an actual GPIO input on the
    device. In a <em>simulator</em> SVM designed to run apps for that platform
    on Windows, the <code>DigitalIo.gpioGet()</code> native table entry might
    simply point to a stub function that always returns 0. Or, it may
    point instead to an implementation that returns a calculated value
    that simulates a particular behavior. In either case the native
    function pointer is valid, and an app designed to run on the
    original platform should also run successfully on the simulator SVM.</li>
</ul>
<p>The Sedona compiler <code>sedonac</code> provides some functionality to aid in the
creation of a simulator SVM. In particular, it can automatically create
empty stub functions for any native methods that have not already been
supplied by the developer. These source stubs can then be edited to add
the desired functionality, or can simply be left as-is to create a
limited (but usable) simulator SVM.</p>
<h2 id="build-steps">Build Steps<a class="headerlink" href="#build-steps" title="Permanent link">&para;</a></h2>
<p>The following instructions will help you create a Sedona device
simulator SVM for your own device. (It is usually convenient to bundle
these operations into a script that can be run as needed.)</p>
<ol>
<li><a href="#create-platdef-file">Step 1</a>: Create a platform XML file for the simulator SVM</li>
<li><a href="#stage-source-files">Step 2</a>: Stage the Device Simulator SVM source files</li>
<li><a href="#build-simulator-svm">Step 3</a>: Build the simulator SVM</li>
<li><a href="#build-scode-file">Step 4</a>: Build scode for the Device Simulator</li>
<li><a href="#build-test-app">Step 5</a>: Include an app for the Device Simulator</li>
<li><a href="#package-and-install">Step 6</a>: Package and install the Device Simulator</li>
<li><a href="#run-simulator">Step 7</a>: Run the Device Simulator</li>
</ol>
<h2 id="create-platdef-file">Create platDef file<a class="headerlink" href="#create-platdef-file" title="Permanent link">&para;</a></h2>
<p>The first step in creating a Device Simulator is setting up a simulator
version of the platform XML file. By convention, the new file should
have the same name as the original, with <code>-sim</code> inserted just before
the extension.</p>
<ul>
<li><strong>Example</strong>: the simulator version of <code>generic-unix.xml</code> would be
    <code>generic-unix-sim.xml</code>.</li>
</ul>
<h3 id="platform-id">Platform ID<a class="headerlink" href="#platform-id" title="Permanent link">&para;</a></h3>
<p>Inside the new XML file, the platform ID should be modified in the same
way as the filename.</p>
<ul>
<li><strong>Example</strong>: <code>generic-unix-sim-${sedona.env.version}</code></li>
</ul>
<h3 id="simulator-platform-compile-attributes">Simulator platform compile attributes<a class="headerlink" href="#simulator-platform-compile-attributes" title="Permanent link">&para;</a></h3>
<p>Next, the attributes of the <code>&lt;compile&gt;</code> tag should modified to match the
simulator platform rather than the original target platform.</p>
<ul>
<li><strong>Example</strong>: For a Device Simulator that will run on Windows, set
    <code>endian="little"</code> and <code>blockSize="4"</code>.</li>
</ul>
<h3 id="native-kits">Native kits<a class="headerlink" href="#native-kits" title="Permanent link">&para;</a></h3>
<p>The list of <code>&lt;nativeKit&gt;</code> tags requires no modification.</p>
<h3 id="native-source-paths">Native source paths<a class="headerlink" href="#native-source-paths" title="Permanent link">&para;</a></h3>
<p>The list of <code>&lt;nativeSource&gt;</code> tags must be modified to reflect the
location of the native method implementations for the simulator
platform. If any native methods are not supplied in the paths provided
here, sedonac will create empty stubs for them at staging time. This is
also where any simulator-specific native method implementations will be
included - just provide the path to the desired source code in a
<code>&lt;nativeSource&gt;</code> tag like the others.</p>
<ul>
<li><strong>Example</strong>: to create a Device Simulator to simulate a unix
    platform on Windows, modify the <code>&lt;nativeSource&gt;</code> tags as follows:</li>
</ul>
<p><div class="codehilite"><pre><span></span><code>            <span class="nt">&lt;nativeSource</span> <span class="na">path=</span><span class="s">&quot;/src/sys/native/unix&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;nativeSource</span> <span class="na">path=</span><span class="s">&quot;/platforms/src/generic/unix/native&quot;</span> <span class="nt">/&gt;</span>
</code></pre></div>
should become</p>
<div class="codehilite"><pre><span></span><code>            <span class="nt">&lt;nativeSource</span> <span class="na">path=</span><span class="s">&quot;/src/sys/native/win32&quot;</span> <span class="nt">/&gt;</span>
            <span class="nt">&lt;nativeSource</span> <span class="na">path=</span><span class="s">&quot;/platforms/src/generic/win32/native&quot;</span> <span class="nt">/&gt;</span>
</code></pre></div>

<p>If there is a native method for the original platform that <strong>must</strong>
return a specific value (or must <strong>not</strong> return 0), the developer can
provide source code for a substitute that returns the desired value. The
native source code file containing the substitute can be stored
anywhere, as long as there is a <code>&lt;nativeSource&gt;</code> tag in the sim platform
XML file that points to its location.</p>
<p>At the other end of the simplicity spectrum, it is also possible to
develop a more elaborate Device Simulator. For example one could provide
a graphical representation for digital outputs on the simulator
platform. The native code that generates the graphics, as well as the
native method implementations that control them, would similarly be
located and staged via one or more <code>&lt;nativeSource&gt;</code> tags.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you are creating a device simulator for a device running Sedona 1.0 / TXS 1.1, native source must be provided for whatever methods the simulated platform uses to populate the <code>platformId</code>, <code>platformVer</code>, and <code>memAvailable</code> slots. These slots are often used by provisioning tools, and must have valid values for the tools to work. (Beginning with 1.2, there are native methods of <code>sys::PlatformService</code> so that <code>sedonac</code> can provide them automatically. Pre-1.2 however, they were unique to each platform.)</p>
</div>
<h3 id="native-patches">Native patches<a class="headerlink" href="#native-patches" title="Permanent link">&para;</a></h3>
<p>Any native patches required for the Simulator SVM need to be accounted
for in <code>&lt;nativePatch&gt;</code> tags. Note: The set of patches for the Device
Simulator SVM may not be the same as the set for the original platform.
In fact, since native patches are generally created only for SVMs that
cannot be rebuilt easily, it is unlikely any will be needed in a
simulator SVM.</p>
<h3 id="manifest-includes">Manifest includes<a class="headerlink" href="#manifest-includes" title="Permanent link">&para;</a></h3>
<p>If the platform definition file uses the <code>&lt;manifestInclude&gt;</code> tag, the
developer should judiciously consider whether it can remain as-is or
needs to be modified for the simulator SVM. In particular, depending on
how (or if) the original platform supports the Manifest Server feature
then it may need to be omitted or re-implemented for the simulator.</p>
<h2 id="stage-source-files">Stage source files<a class="headerlink" href="#stage-source-files" title="Permanent link">&para;</a></h2>
<p>When the platform XML file for the simulator SVM is complete, run
<code>sedonac</code> on the new file using the option <code>-stageSim</code>. Specify the
location to be used for the staging area via the <code>-outDir</code> option.</p>
<ul>
<li><strong>Example</strong>: <code>sedonac -stageSim -outDir temp generic-unix-sim.xml</code></li>
</ul>
<p>Sedonac will collect the files from all the <code>&lt;nativeSource&gt;</code> paths and
store them in the staging area, and then scan the source code to
identify any missing native method implementations. It will then create
empty stubs for the missing methods. It will also create a <code>.par</code> folder
in the staging directory to hold the platform archive (generated later),
and create the platform manifest file for the simulator platform.</p>
<ul>
<li><strong>Example</strong>: After running the above command, the directory <code>temp</code>
    has the following contents:</li>
</ul>
<div class="codehilite"><pre><span></span><code>        win32&gt; ls -A temp

        .par/                             inet_util_std.c                         sys_FileStore_std.c
        datetimeStd_DateTimeServiceStd.c  inet_util_std.h                         sys_File_std.c
        errorcodes.h                      main.c                                  sys_StdOutStream_std.c
        inet_Crypto_sha1.c                nativetable.c                           sys_Str.c
        inet_TcpServerSocket_std.c        platUnix_native_stubs.c                 sys_Sys.c
        inet_TcpSocket_std.c              platWin32_Win32PlatformService_win32.c  sys_Sys_std.c
        inet_UdpSocket_std.c              scode.h                                 sys_Sys_win32.c
        inet_sha1.c                       sedona.h                                sys_Test.c
        inet_sha1.h                       sedonaPlatform.h                        sys_Type.c
        inet_util.h                       sys_Component.c                         vm.c
</code></pre></div>

<p>And the subfolder <code>.par</code> contains:</p>
<div class="codehilite"><pre><span></span><code>        win32&gt;ls -A temp/.par

        platformManifest.xml  svm/
</code></pre></div>

<p>At this time, the source code for the Simulator's SVM is ready for
building. If desired, any stub functions created by sedonac may be
edited now to add functionality.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>If you are creating a device simulator for a device running Sedona 1.0 / TXS 1.1, you will need to use <code>sedonac.exe</code> and <code>sedonac.jar</code> from a 1.2 installation for this step, since the pre-1.2 versions do not have the simulator feature.</p>
</div>
<h2 id="build-simulator-svm">Build simulator SVM<a class="headerlink" href="#build-simulator-svm" title="Permanent link">&para;</a></h2>
<p>The next step is to compile the source code into an SVM executable. Use
any toolchain that is appropriate for the <strong>simulator</strong> platform. When
the executable has been created, copy it into the <code>.par/svm</code> folder
inside the staging folder.</p>
<h2 id="build-scode-file">Build scode file<a class="headerlink" href="#build-scode-file" title="Permanent link">&para;</a></h2>
<p>The Device Simulator requires a specially built scode file, so that the
scode will run on the simulator platform. To do this, simply copy a
basic scode XML file (such as one that is normally used for building
scode for the original platform) and change the platform-specific
parameters in the <code>&lt;sedonaCode&gt;</code> tag to match the <strong>simulator</strong>
platform. This is the same as what was done earlier for the platform
definition XML, e.g. to run on Windows set <code>endian="little"</code> and
<code>blockSize="4"</code>. The list of kits requires no modifications.</p>
<p>Run <code>sedonac</code> on the new scode file, and place it in <code>.par/svm</code> with the
SVM executable. (Name it <code>kits.scode</code> for later convenience.)</p>
<h2 id="build-test-app">Build test app<a class="headerlink" href="#build-test-app" title="Permanent link">&para;</a></h2>
<p>Finally, find or create a basic app with a schema that matches the scode
built in the previous step. It does not require any modification. Simply
build it and place the <code>.sab</code> file into <code>.par/svm</code> with the SVM and
scode files. (Name it <code>app.sab</code> for later convenience.)</p>
<h2 id="package-and-install">Package and install<a class="headerlink" href="#package-and-install" title="Permanent link">&para;</a></h2>
<p>Install the simulator platform into the platform database using the
<code>platArchive</code> tool, as follows:
<code>platArchive --stage [path to .par folder] --svm --db</code></p>
<ul>
<li><strong>Example</strong>: <code>platArchive --stage temp/.par --svm --db</code></li>
</ul>
<p>This will also package the <code>.par</code> folder into a zip archive (in this example, the archive would be named <code>tridium-generic-unix-sim-1.2.2.par</code>), which is a convenient way to distribute the Device Simulator with its associated files.</p>
<h2 id="run-simulator">Run Simulator<a class="headerlink" href="#run-simulator" title="Permanent link">&para;</a></h2>
<p>To run the simulator SVM from the command line, simply navigate to the
<code>svm/</code> folder on the simulator host and run the SVM executable, e.g.</p>
<div class="codehilite"><pre><span></span><code>    svm&gt;svm --plat kits.scode app.sab

    Sedona VM <span class="m">2</span>.1.28-sim
    buildDate: Jan <span class="m">14</span> <span class="m">2013</span> <span class="m">10</span>:01:34
    endian:    little
    blockSize: <span class="m">4</span>
    refSize:   <span class="m">4</span>

    Running SVM in Platform Mode
    -- MESSAGE <span class="o">[</span>sys::App<span class="o">]</span> starting
    -- MESSAGE <span class="o">[</span>sox::SoxService<span class="o">]</span> started <span class="nv">port</span><span class="o">=</span><span class="m">1876</span>
    -- MESSAGE <span class="o">[</span>sox::SoxService<span class="o">]</span> DASP Discovery enabled
    -- MESSAGE <span class="o">[</span>sys::App<span class="o">]</span> running
</code></pre></div>

<p>Make sure you are running the SVM executable in the <code>svm/</code> folder, and
not the one in <code>{Sedona home}/bin</code>. (You may need to modify your path
variable to pick up the current directory first.)</p>
<p>The simulator SVM is now running on the simulator host. It is a real
Sedona VM and can be discovered and connected to by any Sox client on
the same network. Any Sedona app that was designed to run on the
original hardware platform should run successfully on this SVM as well.
The main difference is that any native methods that are stubbed out in
the simulator SVM will offer only their stubbed behavior to the app. The
simulator SVM will be as realistic as the implementations of its native
methods will allow.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>svm/</code> folder is probably <em>not</em> the best location for running the simulator SVM, since it is likely just a temporary directory. This example is just a way to demonstrate the simulator SVM functionality.</p>
</div>
                
                  
                
                
                  
                  <hr>
                  <div class="md-source-date">
                    <small>
                      
                        Last update: April 7, 2020
                      
                    </small>
                  </div>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../platTutorial/" title="Platform Tutorial" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Platform Tutorial
              </span>
            </div>
          </a>
        
        
          <a href="../platCertified/" title="Certified Platforms" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Certified Platforms
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2007-2017 Tridium, 2018-2020 Sedona Community
          </div>
        
        powered by
        <a href="https://www.mkdocs.org" target="_blank" rel="noopener">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.c33a9706.js"></script>
      
      <script>app.initialize({version:"1.1",url:{base:"../.."}})</script>
      
    
  </body>
</html>